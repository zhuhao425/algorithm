# 特征级融合方案
特征级融合方案会类似于数据级融合。在数据级融合方案中，雷达的数据直接被合并了。这样做会导致后续算法需要进行处理的数据量翻倍，如当LaserScan中点的数量超过假定的上限2048时，gmapping会出现内存分配错误。而对于后续的算法来说，雷达的数据并不是所有的数据都是有效的。所以算法可以考虑在数据中提取特征后，在将提取出来的特征进行合并，提供给后续算法。这方案比较适用于基于特征匹配的SLAM算法。

## 方案分析
由于激光雷达区分2D和3D，所以该方案也对2D和3D的分开进行分析。3D激光雷达提供的数据的冗余度会比较高，信息会比较丰富，所以基于特征匹配的算法一般会用于3D激光雷达。同样，3D的融合方法会更容易一点。对于特征的融合和数据的融合会比较类似，转换到同意坐标系下后进行拼接。而2D激光雷达所提供的数据冗余度会低一下，所以对应的基于特征的方法会比较少。这里的方案是在amcl的基础上进行扩展的，严格来讲，该方案只是类似与特征级融合。amcl使用的粒子滤波中，在进行扫描匹配后会根据匹配的结果对粒子重新分配权重。如果使用了多个雷达，多个雷达分开进行扫描匹配，然后共同更新粒子的权重。这里的方案存在两种，一是不考虑两个雷达之间差异大的情况，直接进行权重更新；二是会考虑差异大的情况，如果出现了差异过大的情况，多个雷达会进行分支定位。提供这两个方案的原因是，第二种应该属于混合融合方案。

## 使用方法
```bash
$> catkin_make
$> source devel/setup.bash
$> cd src/script
$> ./test_navigation.sh
```
test_navigation.sh就是写好的脚本程序。当节点全部启动后，在rviz中选择，然后在地图上点击点作为目的地。bot会进行路径规划后，从当前点走到该点。

## 总结
特征级融合的方案就是将数据经过一次处理后进行融合，这样剔除了一些不必要的数据。该方案同样对雷达的安装位置有较高的要求。
